<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØµØ­Ø© - LegestyCity</title>
    
    <meta property="og:title" content="ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØµØ­Ø© - LegestyCity EMS">
    <meta property="og:description" content="Ø®Ø¯Ù…Ø© ØµØ­ÙŠØ© Ù…ØªÙ…ÙŠØ²Ø© Ù„Ù…Ø¬ØªÙ…Ø¹ Ø£ÙØ¶Ù„">
    <meta property="og:image" content="https://i.ibb.co/fdLhRRY7/9568662668-105488459440074-1767511325549.png">
    <meta name="theme-color" content="#8B0000">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #8B0000 0%, #DC143C 100%); min-height: 100vh; }
        header { background: white; box-shadow: 0 2px 10px rgba(0,0,0,0.1); padding: 20px 0; position: sticky; top: 0; z-index: 100; }
        .header-content { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 0 20px; }
        .logo-section { display: flex; align-items: center; gap: 15px; }
        .logo { width: 60px; height: 60px; background: linear-gradient(135deg, #8B0000 0%, #DC143C 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; }
        .logo svg { width: 35px; height: 35px; fill: white; }
        .title-section h1 { color: #333; font-size: 24px; margin-bottom: 5px; }
        .title-section p { color: #666; font-size: 14px; }
        .menu-toggle { display: flex; flex-direction: column; gap: 5px; cursor: pointer; padding: 10px; }
        .menu-toggle span { width: 30px; height: 3px; background: #8B0000; border-radius: 2px; transition: all 0.3s; }
        .nav-menu { position: fixed; top: 0; right: -300px; width: 300px; height: 100vh; background: white; box-shadow: -2px 0 10px rgba(0,0,0,0.1); transition: right 0.3s; z-index: 1000; padding: 80px 30px 30px; overflow-y: auto; }
        .nav-menu.active { right: 0; }
        .nav-menu a { display: block; padding: 15px 0; color: #333; text-decoration: none; font-size: 18px; border-bottom: 1px solid #eee; transition: color 0.3s; }
        .nav-menu a:hover { color: #8B0000; }
        .close-menu { position: absolute; top: 20px; left: 20px; font-size: 30px; cursor: pointer; color: #8B0000; }
        
        /* Admin Panel Styles */
        .admin-login { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 40px; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.3); z-index: 2000; display: none; max-width: 400px; width: 90%; }
        .admin-login.active { display: block; }
        .admin-login h2 { color: #8B0000; margin-bottom: 20px; text-align: center; }
        .admin-login input { width: 100%; padding: 12px; margin-bottom: 15px; border: 2px solid #eee; border-radius: 8px; font-size: 16px; }
        .admin-login input:focus { outline: none; border-color: #8B0000; }
        .admin-login button { width: 100%; padding: 12px; background: linear-gradient(135deg, #8B0000 0%, #DC143C 100%); color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; }
        .admin-login button:hover { opacity: 0.9; }
        .admin-login .error { color: #dc3545; text-align: center; margin-top: 10px; display: none; }
        
        .admin-panel { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: white; z-index: 1500; overflow-y: auto; padding: 20px; }
        .admin-panel.active { display: block; }
        .admin-header { background: linear-gradient(135deg, #8B0000 0%, #DC143C 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; }
        .admin-header h1 { font-size: 24px; }
        .logout-btn { background: white; color: #8B0000; padding: 10px 20px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; }
        .logout-btn:hover { opacity: 0.9; }
        
        .admin-tabs { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        .admin-tab { padding: 12px 24px; background: #f8f9fa; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; transition: all 0.3s; }
        .admin-tab.active { background: linear-gradient(135deg, #8B0000 0%, #DC143C 100%); color: white; }
        
        .admin-content { background: white; border-radius: 10px; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        
        .add-member-btn { background: linear-gradient(135deg, #8B0000 0%, #DC143C 100%); color: white; padding: 12px 24px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; margin-bottom: 20px; }
        .add-member-btn:hover { opacity: 0.9; }
        
        .member-form { background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px; display: none; }
        .member-form.active { display: block; }
        .member-form input, .member-form select { width: 100%; padding: 10px; margin-bottom: 10px; border: 2px solid #eee; border-radius: 8px; }
        .member-form button { padding: 10px 20px; margin-left: 10px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; }
        .save-btn { background: #28a745; color: white; }
        .cancel-btn { background: #6c757d; color: white; }
        
        .admin-table { width: 100%; border-collapse: collapse; }
        .admin-table th { background: #8B0000; color: white; padding: 12px; text-align: right; }
        .admin-table td { padding: 12px; border-bottom: 1px solid #eee; }
        .admin-table tr:hover { background: #f8f9fa; }
        
        .action-btn { padding: 6px 12px; margin: 0 2px; border: none; border-radius: 5px; cursor: pointer; font-size: 14px; }
        .edit-btn { background: #ffc107; color: #000; }
        .delete-btn { background: #dc3545; color: white; }
        .action-btn:hover { opacity: 0.8; }
        
        .ip-log { background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
        .ip-log h3 { color: #8B0000; margin-bottom: 10px; }
        .ip-item { padding: 8px; background: white; margin-bottom: 5px; border-radius: 5px; font-size: 14px; }
        
        .admin-access-btn { background: transparent; border: 2px solid #8B0000; color: #8B0000; padding: 8px 15px; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: bold; transition: all 0.3s; display: flex; align-items: center; gap: 8px; }
        .admin-access-btn:hover { background: #8B0000; color: white; }
        .admin-access-btn svg { width: 20px; height: 20px; fill: currentColor; }
        
        @media (max-width: 768px) {
            .admin-header { flex-direction: column; gap: 10px; text-align: center; }
            .admin-tabs { flex-direction: column; }
            .admin-tab { width: 100%; }
            .header-content { flex-wrap: wrap; }
            .admin-access-btn { font-size: 14px; padding: 6px 12px; }
        }
        .container { max-width: 1200px; margin: 0 auto; padding: 40px 20px; }
        .section { background: white; border-radius: 15px; padding: 30px; margin-bottom: 30px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); }
        .section h2 { color: #8B0000; margin-bottom: 25px; font-size: 28px; border-right: 4px solid #8B0000; padding-right: 15px; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 25px; }
        .stat-card { background: white; color: #8B0000; padding: 30px; border-radius: 12px; text-align: center; transition: transform 0.3s, box-shadow 0.3s; box-shadow: 0 3px 10px rgba(0,0,0,0.1); position: relative; }
        .stat-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 5px; background: linear-gradient(135deg, #8B0000 0%, #DC143C 100%); }
        .stat-card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(139,0,0,0.2); }
        .stat-icon { width: 60px; height: 60px; margin: 0 auto 15px; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #8B0000 0%, #DC143C 100%); border-radius: 50%; }
        .stat-icon svg { width: 32px; height: 32px; fill: white; }
        .stat-card h3 { font-size: 40px; margin-bottom: 10px; color: #8B0000; }
        .stat-card p { font-size: 16px; color: #DC143C; font-weight: 600; }
        .officials-grid { display: flex; flex-direction: column; align-items: center; gap: 25px; max-width: 400px; margin: 0 auto; }
        .official-card { background: #f8f9fa; border-radius: 12px; padding: 20px; text-align: center; transition: transform 0.3s, box-shadow 0.3s; width: 100%; }
        .official-card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0,0,0,0.15); }
        .official-img { width: 120px; height: 120px; border-radius: 50%; background: linear-gradient(135deg, #8B0000 0%, #DC143C 100%); margin: 0 auto 15px; display: flex; align-items: center; justify-content: center; }
        .official-img svg { width: 60px; height: 60px; fill: white; }
        .official-card h3 { color: #333; margin-bottom: 8px; font-size: 18px; }
        .official-card p { color: #8B0000; font-weight: bold; }
        .table-container { overflow-x: auto; margin-top: 20px; }
        table { width: 100%; border-collapse: collapse; background: white; }
        table thead { background: linear-gradient(135deg, #8B0000 0%, #DC143C 100%); color: white; }
        table th { padding: 15px; text-align: right; font-weight: bold; }
        table td { padding: 12px 15px; border-bottom: 1px solid #eee; }
        table tbody tr:hover { background: #f8f9fa; }
        .rank-badge { display: inline-block; padding: 5px 12px; border-radius: 20px; font-size: 12px; font-weight: bold; color: white; background: linear-gradient(135deg, #8B0000 0%, #DC143C 100%); }
        .points { color: #8B0000; font-weight: bold; font-size: 18px; }
        .info-box { background: #f8f9fa; border-right: 4px solid #8B0000; padding: 20px; margin-bottom: 20px; border-radius: 8px; }
        .info-box h3 { color: #8B0000; margin-bottom: 15px; font-size: 20px; }
        .info-box p, .info-box ul { color: #666; line-height: 1.8; margin-bottom: 10px; }
        .info-box ul { margin-right: 20px; }
        .info-box li { margin-bottom: 10px; }
        .service-card { background: white; border: 2px solid #eee; border-radius: 12px; padding: 20px; margin-bottom: 15px; transition: all 0.3s; }
        .service-card:hover { border-color: #8B0000; box-shadow: 0 5px 15px rgba(139,0,0,0.1); }
        .service-card h4 { color: #8B0000; margin-bottom: 10px; font-size: 18px; }
        .service-card p { color: #666; line-height: 1.6; }
        .free-badge { background: #28a745; color: white; padding: 4px 10px; border-radius: 15px; font-size: 12px; margin-right: 10px; }
        .location-section { text-align: center; }
        .location-img { width: 100%; max-width: 800px; height: 450px; border-radius: 12px; margin: 20px auto; overflow: hidden; box-shadow: 0 5px 20px rgba(0,0,0,0.2); position: relative; background: url('https://i.ibb.co/fdLhRRY7/9568662668-105488459440074-1767511325549.png') center center / cover no-repeat, linear-gradient(135deg, #8B0000 0%, #DC143C 100%); display: flex; align-items: flex-end; justify-content: center; }
        .location-overlay { position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(to top, rgba(139,0,0,0.95) 0%, rgba(139,0,0,0.7) 50%, transparent 100%); padding: 30px; color: white; font-size: 24px; font-weight: bold; text-align: center; }
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: none; z-index: 999; }
        .overlay.active { display: block; }
        .apply-section { text-align: center; margin-top: 30px; }
        .apply-btn { display: inline-block; padding: 18px 50px; background: linear-gradient(135deg, #8B0000 0%, #DC143C 100%); color: white; text-decoration: none; border-radius: 50px; font-size: 20px; font-weight: bold; transition: all 0.3s; box-shadow: 0 5px 20px rgba(139,0,0,0.3); }
        .apply-btn:hover { transform: translateY(-3px); box-shadow: 0 8px 30px rgba(139,0,0,0.4); }
        footer { background: rgba(255,255,255,0.1); color: white; text-align: center; padding: 30px 20px; margin-top: 50px; backdrop-filter: blur(10px); }
        footer p { margin: 5px 0; font-size: 16px; }
        footer .copyright { font-weight: bold; font-size: 18px; margin-bottom: 10px; }
        @media (max-width: 768px) {
            .title-section h1 { font-size: 16px; }
            .section { padding: 20px; }
            .stats-grid { grid-template-columns: 1fr; }
            table { font-size: 14px; }
        }
    </style>
</head>
<body>
    <div class="overlay" id="overlay"></div>
    
    <header>
        <div class="header-content">
            <div class="logo-section">
                <div class="logo">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 6h-4V4c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zM10 4h4v2h-4V4zm6 11h-3v3h-2v-3H8v-2h3v-3h2v3h3v2z"/></svg>
                </div>
                <div class="title-section">
                    <h1>ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØµØ­Ø© - LegestyCity</h1>
                    <p>Ø®Ø¯Ù…Ø© ØµØ­ÙŠØ© Ù…ØªÙ…ÙŠØ²Ø© Ù„Ù…Ø¬ØªÙ…Ø¹ Ø£ÙØ¶Ù„</p>
                </div>
            </div>
            <div style="display: flex; align-items: center; gap: 15px;">
                <button class="admin-access-btn" onclick="showAdminLogin()">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/></svg>
                    Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
                </button>
                <div class="menu-toggle" id="menuToggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </header>

    <nav class="nav-menu" id="navMenu">
        <span class="close-menu" id="closeMenu">Ã—</span>
        <a href="#stats">Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</a>
        <a href="#officials">Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠÙ†</a>
        <a href="#about">Ø¹Ù† Ø§Ù„ÙˆØ²Ø§Ø±Ø©</a>
        <a href="#services">Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ©</a>
        <a href="#hospital">Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰</a>
        <a href="#location">Ø§Ù„Ù…ÙˆÙ‚Ø¹</a>
        <a href="#apply">Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…</a>
    </nav>

    <div class="container">
        <section class="section" id="stats">
            <h2>Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                    </div>
                    <h3>10+</h3>
                    <p>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø³Ø¹ÙÙŠÙ†</p>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                    </div>
                    <h3>4+</h3>
                    <p>Ø¹Ø¯Ø¯ Ù…Ø³Ø¤ÙˆÙ„ÙŠ Ø§Ù„ØµØ­Ø©</p>
                </div>
            </div>
        </section>

        <section class="section" id="officials">
            <h2>Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠÙ†</h2>
            <div class="officials-grid">
                <div class="official-card">
                    <div class="official-img">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                    </div>
                    <h3>LC | SXB226 | E-1</h3>
                    <p>Chief Of Medics</p>
                </div>
                <div class="official-card">
                    <div class="official-img">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                    </div>
                    <h3>LC | Jeddawi99 | E-2</h3>
                    <p>Deputy Chief Of Medics</p>
                </div>
                <div class="official-card">
                    <div class="official-img" style="background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                    </div>
                    <h3>THE BEST MEDIC OF WEEK</h3>
                    <p style="color: #FFA500;">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù„Ø­Ø¯ Ø§Ù„Ø¢Ù†</p>
                </div>
            </div>
        </section>

        <section class="section" id="members">
            <h2>Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø·Ø§Ù‚Ù… Ø§Ù„Ø·Ø¨ÙŠ</h2>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Ø§Ø³Ù… Ø§Ù„Ø¹Ø¶Ùˆ</th>
                            <th>Ø§Ù„ÙŠÙˆÙ†Øª</th>
                            <th>Ø§Ù„Ø±ØªØ¨Ø©</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Ø·Ø§Ø­ÙˆØ³ Ø¨Ù† Ù†ÙŠØ±Ø³</td>
                            <td>E-41</td>
                            <td><span class="rank-badge">GMD</span></td>
                        </tr>
                        <tr>
                            <td>Ø®Ø§Ù„Ø¯ Ø¨Ù† ÙÙ‡Ø¯</td>
                            <td>E-42</td>
                            <td><span class="rank-badge">GMD</span></td>
                        </tr>
                        <tr>
                            <td>Ù…Ø§Ø±ÙÙ„ Ø§Ù„Ø´Ù…Ø±ÙŠ</td>
                            <td>E-43</td>
                            <td><span class="rank-badge">GMD</span></td>
                        </tr>
                        <tr>
                            <td>Ø¹Ø¨Ø¯Ø§Ù„Ù…Ù„Ùƒ Ø§Ù„Ø´Ù…Ø±ÙŠ</td>
                            <td>E-45</td>
                            <td><span class="rank-badge">GMD</span></td>
                        </tr>
                        <tr>
                            <td>Ø¹Ù„ÙŠ Ø§Ù„Ø´Ù…Ø±ÙŠ</td>
                            <td>E-46</td>
                            <td><span class="rank-badge">GMD</span></td>
                        </tr>
                        <tr>
                            <td>Ø¹ÙŠØ³Ù‰</td>
                            <td>E-47</td>
                            <td><span class="rank-badge">GMD</span></td>
                        </tr>
                        <tr>
                            <td>ÙØ§Ø±Ø³ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡</td>
                            <td>E-48</td>
                            <td><span class="rank-badge">GMD</span></td>
                        </tr>
                        <tr>
                            <td>Ø§Ù„Ø¨ÙŠØ±ØªÙˆ</td>
                            <td>E-49</td>
                            <td><span class="rank-badge">NURSE</span></td>
                        </tr>
                        <tr>
                            <td>Ù‡Ø§Ù†ÙŠ</td>
                            <td>E-50</td>
                            <td><span class="rank-badge">GMD</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section class="section" id="affairs">
            <h2>Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©</h2>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Ø§Ø³Ù… Ø§Ù„Ø¹Ø¶Ùˆ</th>
                            <th>Ø§Ù„ÙŠÙˆÙ†Øª</th>
                            <th>Ø§Ù„Ø±ØªØ¨Ø©</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ØµØ§Ù„Ø­ ØµÙ„ÙˆØ­ÙŠ</td>
                            <td>S-1</td>
                            <td><span class="rank-badge">Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø´Ø¤ÙˆÙ†</span></td>
                        </tr>
                        <tr>
                            <td>Ù…Ø²Ø±Ø§ØªÙŠ ÙƒÙ„Ø§Ø´Ù†ÙƒÙˆÙ</td>
                            <td>S-2</td>
                            <td><span class="rank-badge">Ù†Ø§Ø¦Ø¨ Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø´Ø¤ÙˆÙ†</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section class="section" id="about">
            <h2>Ø¹Ù† Ø§Ù„ÙˆØ²Ø§Ø±Ø©</h2>
            <div class="info-box">
                <h3>ğŸ¯ Ù‡Ø¯Ù Ø§Ù„ÙˆØ²Ø§Ø±Ø©</h3>
                <p>ØªÙ‚Ø¯ÙŠÙ… Ø£ÙØ¶Ù„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØµØ­ÙŠØ© ÙˆØ§Ù„Ø·Ø¨ÙŠØ© Ø§Ù„Ø·Ø§Ø±Ø¦Ø© Ù„Ù…ÙˆØ§Ø·Ù†ÙŠ LegestyCityØŒ ÙˆØ¶Ù…Ø§Ù† Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø³Ø±ÙŠØ¹Ø© ÙˆÙØ¹Ø§Ù„Ø© ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø·Ø§Ø±Ø¦Ø©.</p>
            </div>
            <div class="info-box">
                <h3>ğŸ’¡ Ù…Ø§ Ù†Ù‚Ø¯Ù…Ù‡ Ù„Ù„Ù…ÙˆØ§Ø·Ù†ÙŠÙ†</h3>
                <ul>
                    <li>Ø§Ø³ØªØ¬Ø§Ø¨Ø© ÙÙˆØ±ÙŠØ© Ù„Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø·Ø§Ø±Ø¦Ø© Ø¹Ù„Ù‰ Ù…Ø¯Ø§Ø± 24/7</li>
                    <li>Ø·Ø§Ù‚Ù… Ø·Ø¨ÙŠ Ù…Ø¯Ø±Ø¨ Ø¹Ù„Ù‰ Ø£Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª</li>
                    <li>Ù…Ø¹Ø¯Ø§Øª Ø·Ø¨ÙŠØ© Ø­Ø¯ÙŠØ«Ø© ÙˆÙ…ØªØ·ÙˆØ±Ø©</li>
                    <li>Ø±Ø¹Ø§ÙŠØ© ØµØ­ÙŠØ© Ø´Ø§Ù…Ù„Ø© ÙˆÙ…ØªÙƒØ§Ù…Ù„Ø©</li>
                    <li>Ø®Ø¯Ù…Ø§Øª ÙˆÙ‚Ø§Ø¦ÙŠØ© ÙˆØªÙˆØ¹ÙˆÙŠØ© Ù…Ø³ØªÙ…Ø±Ø©</li>
                </ul>
            </div>
            <div class="info-box">
                <h3>ğŸ† Ø±Ø¤ÙŠØªÙ†Ø§</h3>
                <p>Ø£Ù† Ù†ÙƒÙˆÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø£Ù…Ø«Ù„ ÙÙŠ ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØµØ­ÙŠØ© Ø§Ù„Ø·Ø§Ø±Ø¦Ø©ØŒ ÙˆÙ†Ø³Ø§Ù‡Ù… ÙÙŠ Ø¨Ù†Ø§Ø¡ Ù…Ø¬ØªÙ…Ø¹ ØµØ­ÙŠ Ø¢Ù…Ù† Ù„Ø¬Ù…ÙŠØ¹ Ø³ÙƒØ§Ù† LegestyCity.</p>
            </div>
        </section>

        <section class="section" id="services">
            <h2>Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ©</h2>
            <div class="service-card">
                <h4><span class="free-badge">Ù…Ø¬Ø§Ù†Ø§Ù‹</span>Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø·ÙˆØ§Ø±Ø¦</h4>
                <p>Ø§Ø³ØªØ¬Ø§Ø¨Ø© ÙÙˆØ±ÙŠØ© Ù„Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø·Ø§Ø±Ø¦Ø© ÙˆØ§Ù„Ø­ÙˆØ§Ø¯Ø« Ø¹Ù„Ù‰ Ù…Ø¯Ø§Ø± Ø§Ù„Ø³Ø§Ø¹Ø©</p>
            </div>
            <div class="service-card">
                <h4><span class="free-badge">Ù…Ø¬Ø§Ù†Ø§Ù‹</span>Ø§Ù„Ø¥Ø³Ø¹Ø§ÙØ§Øª Ø§Ù„Ø£ÙˆÙ„ÙŠØ©</h4>
                <p>ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ø¥Ø³Ø¹Ø§ÙØ§Øª Ø§Ù„Ø£ÙˆÙ„ÙŠØ© ÙˆØ§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ø·Ø¨ÙŠØ© Ø§Ù„ÙÙˆØ±ÙŠØ©</p>
            </div>
            <div class="service-card">
                <h4><span class="free-badge">Ù…Ø¬Ø§Ù†Ø§Ù‹</span>Ø§Ù„Ù†Ù‚Ù„ Ø§Ù„Ø·Ø¨ÙŠ</h4>
                <p>Ù†Ù‚Ù„ Ø¢Ù…Ù† ÙˆØ³Ø±ÙŠØ¹ Ù„Ù„Ù…Ø±Ø¶Ù‰ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰</p>
            </div>
            <div class="service-card">
                <h4>Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¬Ø±Ø§Ø­ÙŠØ©</h4>
                <p>Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¬Ø±Ø§Ø­ÙŠØ© Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠØ© ÙˆØ§Ù„Ø·Ø§Ø±Ø¦Ø©</p>
            </div>
            <div class="service-card">
                <h4>Ø§Ù„ÙØ­ÙˆØµØ§Øª Ø§Ù„Ø·Ø¨ÙŠØ©</h4>
                <p>ÙØ­ÙˆØµØ§Øª Ø´Ø§Ù…Ù„Ø© ÙˆØ¯Ù‚ÙŠÙ‚Ø© Ø¨Ø£Ø­Ø¯Ø« Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©</p>
            </div>
        </section>

        <section class="section" id="hospital">
            <h2>Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ø¬Ø¯ÙŠØ¯</h2>
            <div class="info-box">
                <h3>ğŸ¥ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰</h3>
                <p>Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ø³ÙŠØªÙ… Ø§ÙØªØªØ§Ø­ Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø¬Ù‡Ø² Ø¨Ø£Ø­Ø¯Ø« Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ø·Ø¨ÙŠØ© ÙˆØ§Ù„Ù…Ø±Ø§ÙÙ‚ Ø§Ù„Ø­Ø¯ÙŠØ«Ø©. Ø³ÙŠØªÙ… Ù†Ø´Ø± ØµÙˆØ± ÙˆØªÙØ§ØµÙŠÙ„ ÙƒØ§Ù…Ù„Ø© Ø¹Ù† Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ Ø¨Ø¹Ø¯ Ø§Ù„Ø§ÙØªØªØ§Ø­ Ø§Ù„Ø±Ø³Ù…ÙŠ.</p>
            </div>
            <div class="info-box">
                <h3>ğŸ“‹ Ù…Ø±Ø§ÙÙ‚ Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰</h3>
                <ul>
                    <li>Ù‚Ø³Ù… Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ù…Ø¬Ù‡Ø² Ø¨Ø§Ù„ÙƒØ§Ù…Ù„</li>
                    <li>ØºØ±Ù Ø¹Ù…Ù„ÙŠØ§Øª Ø­Ø¯ÙŠØ«Ø©</li>
                    <li>Ø£Ø¬Ù†Ø­Ø© Ù„Ù„Ù…Ø±Ø¶Ù‰ Ù…Ø±ÙŠØ­Ø©</li>
                    <li>Ù…Ø®ØªØ¨Ø±Ø§Øª Ø·Ø¨ÙŠØ© Ù…ØªØ·ÙˆØ±Ø©</li>
                    <li>ØµÙŠØ¯Ù„ÙŠØ© Ø´Ø§Ù…Ù„Ø©</li>
                </ul>
            </div>
        </section>

        <section class="section" id="location">
            <h2>Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰</h2>
            <div class="location-section">
                <div class="location-img">
                    <div class="location-overlay">
                        <div>HOSPITAL<br>EMS<br>LegestyCity</div>
                    </div>
                </div>
                <p style="margin-top: 20px; color: #666; font-size: 16px;">
                    ÙŠÙ‚Ø¹ Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ÙÙŠ Ù‚Ù„Ø¨ Ù…Ø¯ÙŠÙ†Ø© LegestyCityØŒ ÙˆÙ‡Ùˆ Ù…Ø¬Ù‡Ø² Ø¨Ø£Ø­Ø¯Ø« Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ø·Ø¨ÙŠØ©
                </p>
            </div>
        </section>

        <section class="section" id="apply">
            <h2>Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…</h2>
            <div class="apply-section">
                <p style="margin-bottom: 25px; color: #666; font-size: 18px; line-height: 1.8;">
                    Ù‡Ù„ ØªØ±ØºØ¨ ÙÙŠ Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ø¥Ù„Ù‰ ÙØ±ÙŠÙ‚ ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØµØ­Ø© ÙÙŠ LegestyCityØŸ<br>
                    Ù†Ø­Ù† Ù†Ø¨Ø­Ø« Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¹Ù† ÙƒÙˆØ§Ø¯Ø± Ø·Ø¨ÙŠØ© Ù…Ø¤Ù‡Ù„Ø© ÙˆÙ…ØªÙ…ÙŠØ²Ø©<br>
                    <strong style="color: #8B0000; margin-top: 15px; display: block;">ÙŠØ±Ø¬Ù‰ ÙØªØ­ ØªØ°ÙƒØ±Ø© Ø¯Ø¹Ù… ÙÙ†ÙŠ ÙˆØ·Ù„Ø¨ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØµØ­Ø©</strong>
                </p>
                <a href="https://discord.com/channels/1352650776865931294/1352651927271374869" class="apply-btn" target="_blank">
                    Ù‚Ø¯Ù… Ø§Ù„Ø¢Ù† Ø¹Ø¨Ø± Discord
                </a>
            </div>
        </section>
    </div>

    <footer>
        <p class="copyright">Â© 2025 LegestyCity - EMS</p>
        <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
        <p style="margin-top: 10px; font-size: 14px;">ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØµØ­Ø© - Ø®Ø¯Ù…Ø© ØµØ­ÙŠØ© Ù…ØªÙ…ÙŠØ²Ø© Ù„Ù…Ø¬ØªÙ…Ø¹ Ø£ÙØ¶Ù„</p>
    </footer>

    <!-- Admin Access Button -->
    <div style="display: none;"></div>

    <!-- Admin Login -->
    <div class="admin-login" id="adminLogin">
        <h2>ğŸ”’ ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h2>
        <input type="password" id="adminPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" onkeypress="if(event.key==='Enter') adminLogin()">
        <button onclick="adminLogin()">Ø¯Ø®ÙˆÙ„</button>
        <p class="error" id="loginError">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©!</p>
    </div>

    <!-- Admin Panel -->
    <div class="admin-panel" id="adminPanel">
        <div class="admin-header">
            <h1>ğŸ›ï¸ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØµØ­Ø©</h1>
            <button class="logout-btn" onclick="adminLogout()">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
        </div>

        <div class="ip-log">
            <h3>ğŸ“ Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h3>
            <div id="ipLog"></div>
        </div>

        <div class="admin-tabs">
            <button class="admin-tab active" onclick="switchTab('medical')">Ø§Ù„Ø·Ø§Ù‚Ù… Ø§Ù„Ø·Ø¨ÙŠ</button>
            <button class="admin-tab" onclick="switchTab('affairs')">Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©</button>
        </div>

        <div class="admin-content">
            <!-- Medical Staff Section -->
            <div id="medicalSection" class="tab-content">
                <button class="add-member-btn" onclick="showAddForm('medical')">â• Ø¥Ø¶Ø§ÙØ© Ø¹Ø¶Ùˆ Ø¬Ø¯ÙŠØ¯</button>
                
                <div class="member-form" id="medicalForm">
                    <h3>Ø¥Ø¶Ø§ÙØ©/ØªØ¹Ø¯ÙŠÙ„ Ø¹Ø¶Ùˆ Ø§Ù„Ø·Ø§Ù‚Ù… Ø§Ù„Ø·Ø¨ÙŠ</h3>
                    <input type="hidden" id="editIndex">
                    <input type="text" id="medicalName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ø¶Ùˆ">
                    <input type="text" id="medicalUnit" placeholder="Ø§Ù„ÙŠÙˆÙ†Øª (Ù…Ø«Ù„: E-51)">
                    <input type="text" id="medicalRank" placeholder="Ø§Ù„Ø±ØªØ¨Ø© (Ù…Ø«Ù„: GMD)">
                    <button class="save-btn" onclick="saveMember('medical')">ğŸ’¾ Ø­ÙØ¸</button>
                    <button class="cancel-btn" onclick="cancelForm()">âŒ Ø¥Ù„ØºØ§Ø¡</button>
                </div>

                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>Ø§Ù„Ø§Ø³Ù…</th>
                            <th>Ø§Ù„ÙŠÙˆÙ†Øª</th>
                            <th>Ø§Ù„Ø±ØªØ¨Ø©</th>
                            <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                        </tr>
                    </thead>
                    <tbody id="medicalTableBody"></tbody>
                </table>
            </div>

            <!-- Affairs Section -->
            <div id="affairsSection" class="tab-content" style="display:none;">
                <button class="add-member-btn" onclick="showAddForm('affairs')">â• Ø¥Ø¶Ø§ÙØ© Ø¹Ø¶Ùˆ Ø¬Ø¯ÙŠØ¯</button>
                
                <div class="member-form" id="affairsForm">
                    <h3>Ø¥Ø¶Ø§ÙØ©/ØªØ¹Ø¯ÙŠÙ„ Ø¹Ø¶Ùˆ Ø§Ù„Ø´Ø¤ÙˆÙ†</h3>
                    <input type="hidden" id="editIndexAffairs">
                    <input type="text" id="affairsName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ø¶Ùˆ">
                    <input type="text" id="affairsUnit" placeholder="Ø§Ù„ÙŠÙˆÙ†Øª (Ù…Ø«Ù„: S-3)">
                    <input type="text" id="affairsRank" placeholder="Ø§Ù„Ø±ØªØ¨Ø©">
                    <button class="save-btn" onclick="saveMember('affairs')">ğŸ’¾ Ø­ÙØ¸</button>
                    <button class="cancel-btn" onclick="cancelForm()">âŒ Ø¥Ù„ØºØ§Ø¡</button>
                </div>

                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>Ø§Ù„Ø§Ø³Ù…</th>
                            <th>Ø§Ù„ÙŠÙˆÙ†Øª</th>
                            <th>Ø§Ù„Ø±ØªØ¨Ø©</th>
                            <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                        </tr>
                    </thead>
                    <tbody id="affairsTableBody"></tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // Menu Toggle
        const menuToggle = document.getElementById('menuToggle');
        const navMenu = document.getElementById('navMenu');
        const closeMenu = document.getElementById('closeMenu');
        const overlay = document.getElementById('overlay');
        const navLinks = document.querySelectorAll('.nav-menu a');

        menuToggle.addEventListener('click', () => {
            navMenu.classList.add('active');
            overlay.classList.add('active');
        });

        closeMenu.addEventListener('click', () => {
            navMenu.classList.remove('active');
            overlay.classList.remove('active');
        });

        overlay.addEventListener('click', () => {
            navMenu.classList.remove('active');
            overlay.classList.remove('active');
        });

        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                navMenu.classList.remove('active');
                overlay.classList.remove('active');
            });
        });

        // Admin Panel - Enhanced Security System
        const SECURITY_CONFIG = {
            maxAttempts: 3,
            lockoutTime: 300000, // 5 minutes in milliseconds
            sessionTimeout: 1800000, // 30 minutes
            requireStrongPassword: true
        };

        const AUTHORIZED_IPS = [
            '197.47.216.86',      
            '212.237.119.22',     
        ];

        let currentUserIP = null;
        let ipCheckPassed = false;

        // Check if user's IP is authorized
        async function checkAuthorizedIP() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                currentUserIP = data.ip;
                
                // Check if IP is in authorized list
                ipCheckPassed = AUTHORIZED_IPS.includes(currentUserIP);
                
                if (!ipCheckPassed) {
                    console.warn('âš ï¸ Unauthorized IP detected:', currentUserIP);
                }
                
                return ipCheckPassed;
            } catch (error) {
                console.error('IP check failed:', error);
                return false;
            }
        }

        // Password Hash Function (SHA-256 simulation)
        async function hashPassword(password) {
            const encoder = new TextEncoder();
            const data = encoder.encode(password + 'LegestyCity@Salt#2025');
            const hashBuffer = await crypto.subtle.digest('SHA-256', data);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
        }

        // Stored hashed password
        const ADMIN_PASSWORD_HASH = 'f8e9d4c2a1b3e7d6f5a4c3b2e1d9c8b7a6f5e4d3c2b1a9e8d7c6b5a4f3e2d1c0';
        
        let loginAttempts = 0;
        let lockoutUntil = 0;
        let sessionStartTime = 0;
        let loginHistory = [];

        // Local Storage Keys
        const STORAGE_KEYS = {
            medicalStaff: '',
            affairsStaff: '',
            loginHistory: '',
            encryptionKey: ''
        };

        // Simple Encryption/Decryption Functions
        function encryptData(data) {
            const jsonString = JSON.stringify(data);
            const encrypted = btoa(encodeURIComponent(jsonString + STORAGE_KEYS.encryptionKey));
            return encrypted;
        }

        function decryptData(encrypted) {
            try {
                const decrypted = decodeURIComponent(atob(encrypted));
                const jsonString = decrypted.replace(STORAGE_KEYS.encryptionKey, '');
                return JSON.parse(jsonString);
            } catch (error) {
                console.error('Decryption failed:', error);
                return null;
            }
        }

        // Save data to localStorage
        function saveToLocalStorage() {
            try {
                localStorage.setItem(STORAGE_KEYS.medicalStaff, encryptData(medicalStaff));
                localStorage.setItem(STORAGE_KEYS.affairsStaff, encryptData(affairsStaff));
                localStorage.setItem(STORAGE_KEYS.loginHistory, encryptData(loginHistory));
                console.log('âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
            } catch (error) {
                console.error('âŒ ÙØ´Ù„ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', error);
            }
        }

        // Load data from localStorage
        function loadFromLocalStorage() {
            try {
                const savedMedical = localStorage.getItem(STORAGE_KEYS.medicalStaff);
                const savedAffairs = localStorage.getItem(STORAGE_KEYS.affairsStaff);
                const savedHistory = localStorage.getItem(STORAGE_KEYS.loginHistory);

                if (savedMedical) {
                    const decrypted = decryptData(savedMedical);
                    if (decrypted) medicalStaff = decrypted;
                }

                if (savedAffairs) {
                    const decrypted = decryptData(savedAffairs);
                    if (decrypted) affairsStaff = decrypted;
                }

                if (savedHistory) {
                    const decrypted = decryptData(savedHistory);
                    if (decrypted) loginHistory = decrypted;
                }

                console.log('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©');
            } catch (error) {
                console.error('âŒ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', error);
            }
        }

        // Initialize data from localStorage or use defaults
        let medicalStaff = [
            {name: 'Ø·Ø§Ø­ÙˆØ³ Ø¨Ù† Ù†ÙŠØ±Ø³', unit: 'E-41', rank: 'GMD'},
            {name: 'Ø®Ø§Ù„Ø¯ Ø¨Ù† ÙÙ‡Ø¯', unit: 'E-42', rank: 'GMD'},
            {name: 'Ù…Ø§Ø±ÙÙ„ Ø§Ù„Ø´Ù…Ø±ÙŠ', unit: 'E-43', rank: 'GMD'},
            {name: 'Ø¹Ø¨Ø¯Ø§Ù„Ù…Ù„Ùƒ Ø§Ù„Ø´Ù…Ø±ÙŠ', unit: 'E-45', rank: 'GMD'},
            {name: 'Ø¹Ù„ÙŠ Ø§Ù„Ø´Ù…Ø±ÙŠ', unit: 'E-46', rank: 'GMD'},
            {name: 'Ø¹ÙŠØ³Ù‰', unit: 'E-47', rank: 'GMD'},
            {name: 'ÙØ§Ø±Ø³ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡', unit: 'E-48', rank: 'GMD'},
            {name: 'Ø§Ù„Ø¨ÙŠØ±ØªÙˆ', unit: 'E-49', rank: 'NURSE'},
            {name: 'Ù‡Ø§Ù†ÙŠ', unit: 'E-50', rank: 'GMD'}
        ];

        let affairsStaff = [
            {name: 'ØµØ§Ù„Ø­ ØµÙ„ÙˆØ­ÙŠ', unit: 'S-1', rank: 'Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø´Ø¤ÙˆÙ†'},
            {name: 'Ù…Ø²Ø±Ø§ØªÙŠ ÙƒÙ„Ø§Ø´Ù†ÙƒÙˆÙ', unit: 'S-2', rank: 'Ù†Ø§Ø¦Ø¨ Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø´Ø¤ÙˆÙ†'}
        ];

        // Load saved data on page load
        loadFromLocalStorage();

        let ipLogs = [];

        // Anti-Tampering Detection
        const originalConsoleLog = console.log;
        const originalConsoleError = console.error;
        let tamperDetected = false;

        function detectTampering() {
            if (console.log !== originalConsoleLog || console.error !== originalConsoleError) {
                tamperDetected = true;
                adminLogout();
                alert('âš ï¸ ØªÙ… Ø§ÙƒØªØ´Ø§Ù Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø®ØªØ±Ø§Ù‚! Ø³ÙŠØªÙ… Ø­Ø¸Ø± Ø§Ù„ÙˆØµÙˆÙ„.');
                return true;
            }
            return false;
        }

        function isAccountLocked() {
            if (lockoutUntil > Date.now()) {
                const remainingTime = Math.ceil((lockoutUntil - Date.now()) / 1000);
                return { locked: true, remaining: remainingTime };
            }
            return { locked: false };
        }

        function checkSession() {
            if (sessionStartTime > 0 && (Date.now() - sessionStartTime) > SECURITY_CONFIG.sessionTimeout) {
                adminLogout();
                alert('â° Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø¬Ù„Ø³Ø©! Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');
                return false;
            }
            return true;
        }

        setInterval(() => {
            if (document.getElementById('adminPanel').classList.contains('active')) {
                checkSession();
                detectTampering();
            }
        }, 60000);

        async function getUserIP() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                const timestamp = new Date().toLocaleString('ar-SA');
                const geoResponse = await fetch(`https://ipapi.co/${data.ip}/json/`);
                const geoData = await geoResponse.json();
                
                const logEntry = {
                    ip: data.ip,
                    time: timestamp,
                    location: `${geoData.city || 'Unknown'}, ${geoData.country_name || 'Unknown'}`,
                    success: true
                };
                
                ipLogs.push(logEntry);
                loginHistory.push(logEntry);
                saveToLocalStorage();
                updateIPLog();
            } catch (error) {
                const timestamp = new Date().toLocaleString('ar-SA');
                const logEntry = {
                    ip: 'Unknown',
                    time: timestamp,
                    location: 'Unknown',
                    success: false
                };
                ipLogs.push(logEntry);
                updateIPLog();
            }
        }

        function updateIPLog() {
            const ipLogDiv = document.getElementById('ipLog');
            ipLogDiv.innerHTML = ipLogs.map((log, index) => 
                `<div class="ip-item">
                    ğŸ” #${ipLogs.length - index} | ğŸ“ IP: ${log.ip} | ğŸŒ ${log.location} | ğŸ• ${log.time} 
                    ${log.success ? 'âœ…' : 'âš ï¸'}
                </div>`
            ).reverse().slice(0, 15).join('');
        }

        async function showAdminLogin() {
            // Check IP authorization first
            const isAuthorized = await checkAuthorizedIP();
            
            if (!isAuthorized) {
                alert('ğŸš« ØºÙŠØ± Ù…ØµØ±Ø­ Ù„Ùƒ Ø¨Ø§Ù„Ø¯Ø®ÙˆÙ„! IP Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ ØºÙŠØ± Ù…Ø³Ø¬Ù„ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù….\n\nIP: ' + currentUserIP);
                
                // Log unauthorized attempt
                const timestamp = new Date().toLocaleString('ar-SA');
                ipLogs.push({
                    ip: currentUserIP || 'Unknown',
                    time: timestamp,
                    location: 'Unauthorized Access Attempt',
                    success: false
                });
                updateIPLog();
                return;
            }
            
            const lockStatus = isAccountLocked();
            if (lockStatus.locked) {
                alert(`ğŸ”’ Ø§Ù„Ø­Ø³Ø§Ø¨ Ù…Ø­Ø¸ÙˆØ±! Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…ØªØ§Ø­Ø© Ø¨Ø¹Ø¯ ${lockStatus.remaining} Ø«Ø§Ù†ÙŠØ©.`);
                return;
            }
            
            document.getElementById('adminLogin').classList.add('active');
            overlay.classList.add('active');
            document.getElementById('adminPassword').value = '';
            document.getElementById('loginError').style.display = 'none';
        }

        async function adminLogin() {
            if (detectTampering()) return;
            
            // Double check IP authorization
            if (!ipCheckPassed) {
                alert('ğŸš« ØºÙŠØ± Ù…ØµØ±Ø­ Ù„Ùƒ Ø¨Ø§Ù„Ø¯Ø®ÙˆÙ„!');
                return;
            }
            
            const lockStatus = isAccountLocked();
            if (lockStatus.locked) {
                alert(`ğŸ”’ Ø§Ù„Ø­Ø³Ø§Ø¨ Ù…Ø­Ø¸ÙˆØ±! Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…ØªØ§Ø­Ø© Ø¨Ø¹Ø¯ ${lockStatus.remaining} Ø«Ø§Ù†ÙŠØ©.`);
                return;
            }

            const password = document.getElementById('adminPassword').value;
            
            if (!password) {
                document.getElementById('loginError').textContent = 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±!';
                document.getElementById('loginError').style.display = 'block';
                return;
            }

            const hashedInput = await hashPassword(password);
            
            if (hashedInput === ADMIN_PASSWORD_HASH) {
                loginAttempts = 0;
                sessionStartTime = Date.now();
                document.getElementById('adminLogin').classList.remove('active');
                document.getElementById('adminPanel').classList.add('active');
                await getUserIP();
                renderTables();
                
                console.log('âœ… ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ù†Ø§Ø¬Ø­:', new Date().toLocaleString('ar-SA'));
            } else {
                loginAttempts++;
                const remainingAttempts = SECURITY_CONFIG.maxAttempts - loginAttempts;
                
                if (loginAttempts >= SECURITY_CONFIG.maxAttempts) {
                    lockoutUntil = Date.now() + SECURITY_CONFIG.lockoutTime;
                    document.getElementById('loginError').textContent = `ğŸš« ØªÙ… Ø­Ø¸Ø± Ø§Ù„Ø­Ø³Ø§Ø¨ Ù„Ù…Ø¯Ø© ${SECURITY_CONFIG.lockoutTime / 60000} Ø¯Ù‚Ø§Ø¦Ù‚!`;
                    document.getElementById('loginError').style.display = 'block';
                    
                    setTimeout(() => {
                        document.getElementById('adminLogin').classList.remove('active');
                        overlay.classList.remove('active');
                    }, 2000);
                    
                    const timestamp = new Date().toLocaleString('ar-SA');
                    ipLogs.push({
                        ip: currentUserIP || 'Unknown',
                        time: timestamp,
                        location: 'Failed Login - Account Locked',
                        success: false
                    });
                } else {
                    document.getElementById('loginError').textContent = `âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©! Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©: ${remainingAttempts}`;
                    document.getElementById('loginError').style.display = 'block';
                }
                
                setTimeout(() => {
                    document.getElementById('loginError').style.display = 'none';
                }, 3000);
            }
            
            document.getElementById('adminPassword').value = '';
        }

        function adminLogout() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ')) {
                document.getElementById('adminPanel').classList.remove('active');
                document.getElementById('adminPassword').value = '';
                overlay.classList.remove('active');
                sessionStartTime = 0;
                
                // Log logout
                const timestamp = new Date().toLocaleString('ar-SA');
                console.log('ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬:', timestamp);
            }
        }

        function switchTab(tab) {
            document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            
            if (tab === 'medical') {
                document.getElementById('medicalSection').style.display = 'block';
                document.getElementById('affairsSection').style.display = 'none';
            } else {
                document.getElementById('medicalSection').style.display = 'none';
                document.getElementById('affairsSection').style.display = 'block';
            }
        }

        function showAddForm(type) {
            document.getElementById(type + 'Form').classList.add('active');
            document.getElementById('editIndex').value = '';
            document.getElementById('editIndexAffairs').value = '';
            if (type === 'medical') {
                document.getElementById('medicalName').value = '';
                document.getElementById('medicalUnit').value = '';
                document.getElementById('medicalRank').value = '';
            } else {
                document.getElementById('affairsName').value = '';
                document.getElementById('affairsUnit').value = '';
                document.getElementById('affairsRank').value = '';
            }
        }

        function cancelForm() {
            document.getElementById('medicalForm').classList.remove('active');
            document.getElementById('affairsForm').classList.remove('active');
        }

        function saveMember(type) {
            if (type === 'medical') {
                const name = document.getElementById('medicalName').value;
                const unit = document.getElementById('medicalUnit').value;
                const rank = document.getElementById('medicalRank').value;
                const editIndex = document.getElementById('editIndex').value;

                if (!name || !unit || !rank) {
                    alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
                    return;
                }

                if (editIndex !== '') {
                    medicalStaff[editIndex] = {name, unit, rank};
                } else {
                    medicalStaff.push({name, unit, rank});
                }
            } else {
                const name = document.getElementById('affairsName').value;
                const unit = document.getElementById('affairsUnit').value;
                const rank = document.getElementById('affairsRank').value;
                const editIndex = document.getElementById('editIndexAffairs').value;

                if (!name || !unit || !rank) {
                    alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
                    return;
                }

                if (editIndex !== '') {
                    affairsStaff[editIndex] = {name, unit, rank};
                } else {
                    affairsStaff.push({name, unit, rank});
                }
            }

            // Save to localStorage
            saveToLocalStorage();
            
            cancelForm();
            renderTables();
            updatePublicTables();
        }

        function editMember(type, index) {
            showAddForm(type);
            if (type === 'medical') {
                const member = medicalStaff[index];
                document.getElementById('medicalName').value = member.name;
                document.getElementById('medicalUnit').value = member.unit;
                document.getElementById('medicalRank').value = member.rank;
                document.getElementById('editIndex').value = index;
            } else {
                const member = affairsStaff[index];
                document.getElementById('affairsName').value = member.name;
                document.getElementById('affairsUnit').value = member.unit;
                document.getElementById('affairsRank').value = member.rank;
                document.getElementById('editIndexAffairs').value = index;
            }
        }

        function deleteMember(type, index) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø¶ÙˆØŸ')) {
                if (type === 'medical') {
                    medicalStaff.splice(index, 1);
                } else {
                    affairsStaff.splice(index, 1);
                }
                
                // Save to localStorage
                saveToLocalStorage();
                
                renderTables();
                updatePublicTables();
            }
        }

        function renderTables() {
            const medicalBody = document.getElementById('medicalTableBody');
            const affairsBody = document.getElementById('affairsTableBody');

            medicalBody.innerHTML = medicalStaff.map((member, index) => `
                <tr>
                    <td>${member.name}</td>
                    <td>${member.unit}</td>
                    <td><span class="rank-badge">${member.rank}</span></td>
                    <td>
                        <button class="action-btn edit-btn" onclick="editMember('medical', ${index})">âœï¸ ØªØ¹Ø¯ÙŠÙ„</button>
                        <button class="action-btn delete-btn" onclick="deleteMember('medical', ${index})">ğŸ—‘ï¸ Ø­Ø°Ù</button>
                    </td>
                </tr>
            `).join('');

            affairsBody.innerHTML = affairsStaff.map((member, index) => `
                <tr>
                    <td>${member.name}</td>
                    <td>${member.unit}</td>
                    <td><span class="rank-badge">${member.rank}</span></td>
                    <td>
                        <button class="action-btn edit-btn" onclick="editMember('affairs', ${index})">âœï¸ ØªØ¹Ø¯ÙŠÙ„</button>
                        <button class="action-btn delete-btn" onclick="deleteMember('affairs', ${index})">ğŸ—‘ï¸ Ø­Ø°Ù</button>
                    </td>
                </tr>
            `).join('');
        }

        function updatePublicTables() {
            // Tables removed from public view for privacy
        }

        // Initialize
        updatePublicTables();
    </script>
</body>
</html>
